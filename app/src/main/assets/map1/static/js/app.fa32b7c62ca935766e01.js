webpackJsonp([1],{"0U+a":function(e,t){},"5k5n":function(e,t){},BvLc:function(e,t){},EYnv:function(e,t){},JbFS:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i=new n.a,o={name:"App",methods:{jsResetMap:function(){i.$emit("androidCalledResetMap")},jsLocate:function(e,t){i.$emit("jsLocate",e,t)},jsTravel:function(){i.$emit("jsTravel")},jsPano:function(){i.$emit("jsPano")},routeTo3d:function(){this.$router.push("MyCesium")},jsPlanning:function(){i.$emit("jsPlanning")},jsSearch:function(e){i.$emit("jsSearch",e)},jsVillage:function(){i.$emit("jsVillage")},jsPlotting:function(){i.$emit("jsPlotting")},getPlotMapH5:function(e){i.$emit("getPlotMapH5",e)},startPlot:function(){i.$emit("startPlot")},endPlot:function(){i.$emit("endPlot")},cancelPlot:function(){i.$emit("cancelPlot")}},mounted:function(){window.jsResetMap=this.jsResetMap,window.jsLocate=this.jsLocate,window.jsTravel=this.jsTravel,window.jsPano=this.jsPano,window.routeTo3d=this.routeTo3d,window.jsPlanning=this.jsPlanning,window.jsSearch=this.jsSearch,window.jsVillage=this.jsVillage,window.jsPlotting=this.jsPlotting,window.getPlotMapH5=this.getPlotMapH5,window.startPlot=this.startPlot,window.endPlot=this.endPlot,window.cancelPlot=this.cancelPlot}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")(o,s,!1,function(e){a("WMyP")},null,null).exports,l=a("/ocq"),c=a("mvHQ"),u=a.n(c),p=a("HSQo"),d=a.n(p),h=a("nrd6"),g=a("vUK3"),m=a.n(g),f=function(e,t){return Object(h.divIcon)({html:'\n            <div class="content">'+e+'\n            </div>\n            <div class="triangle"></div>\n            <img class="marker" src="'+t+'">\n        ',iconSize:[100,100],className:"class-Element"})};var y=function(e,t){!function a(n,i){t.camera.flyTo({destination:e[n],duration:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}(3,5),maximumHeight:250,easingFunction:m.a.EasingFunction.LINEAR_NONE,complete:function(){n<i-1&&a(n+=1,i)}})}(0,e.length)},v={TianDiTu:{Normal:{Map:"http://t{s}.tianditu.com/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk={key}",Annotion:"http://t{s}.tianditu.com/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk={key}"},Satellite:{Map:"http://t{s}.tianditu.com/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk={key}",Annotion:"http://t{s}.tianditu.com/DataServer?T=cia_w&X={x}&Y={y}&L={z}&tk={key}"},Terrain:{Map:"http://t{s}.tianditu.com/DataServer?T=ter_w&X={x}&Y={y}&L={z}&tk={key}",Annotion:"http://t{s}.tianditu.com/DataServer?T=cta_w&X={x}&Y={y}&L={z}&tk={key}"},subdomains:["0","1","2","3","4","5","6","7"],key:"174705aebfe31b79b3587279e211cb9a"},GaoDe:{Normal:{Map:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},Satellite:{Map:"http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",Annotion:"http://webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}"},subdomains:["1","2","3","4"]},Google:{Normal:{Map:"http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}"},Satellite:{Map:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}"},subdomains:[]},Geoq:{Normal:{Map:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",PurplishBlue:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",Gray:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",Warm:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}"},Theme:{Hydro:"http://thematic.geoq.cn/arcgis/rest/services/ThematicMaps/WorldHydroMap/MapServer/tile/{z}/{y}/{x}"},subdomains:[]},OSM:{Normal:{Map:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"},subdomains:["a","b","c"]}},C=(a("8pRA"),a("JbFS"),a("pTlp"),a("js8p"),a("R8Y0"),a("BvLc"),a("VRXO"),a("n7p+"),a("EYnv"),{name:"MyMap",data:function(){return{thisMap:new Object,mapBounds:new Object,mapZoom:"",isZoomIn:!1,travelImgUrl:"/static/travelMarker.png",planningImgUrl:"/static/marker-icon.png",locatedFlag:!1,locateObject:{marker:"",circle:""},remoteHost:"http://120.26.60.230:8180/charm-mmc",panoHost:"http://vr.iwhcity.com:8000/tour/",panoImgUrl:"/static/panoMarker.png",whLogoImgUrl:"/static/wh-logo.png",villageImgUrl:"/static/villageMarker.png",plotFeature:""}},methods:{initMap:function(){var e=Object(h.map)(this.$el,{center:[37.183499,122.262658],zoom:9,zoomControl:!1,attributionControl:!1,closePopupOnClick:!1});this.thisMap=e;var t=Object(h.tileLayer)(v.TianDiTu.Normal.Map,{subdomains:v.TianDiTu.subdomains,key:v.TianDiTu.key,id:"tiandituNormalMap"}),a=Object(h.tileLayer)(v.TianDiTu.Normal.Annotion,{subdomains:v.TianDiTu.subdomains,key:v.TianDiTu.key,id:"tiandituNormalAnnotion"}),n=Object(h.tileLayer)(v.TianDiTu.Satellite.Map,{subdomains:v.TianDiTu.subdomains,key:v.TianDiTu.key,id:"tiandituSatelliteMap"}),i=Object(h.tileLayer)(v.TianDiTu.Satellite.Annotion,{subdomains:v.TianDiTu.subdomains,key:v.TianDiTu.key,id:"tiandituSatelliteAnnotion"}),o=Object(h.tileLayer)(v.GaoDe.Normal.Map,{subdomains:v.GaoDe.subdomains,id:"GaoDeNormalMap"}),s=Object(h.tileLayer)(v.GaoDe.Satellite.Map,{subdomains:v.GaoDe.subdomains,id:"GaoDeSatelliteMap"}),r=Object(h.tileLayer)(v.Google.Normal.Map,{subdomains:v.Google.subdomains,id:"GoogleNormalMap"}),l=Object(h.tileLayer)(v.Google.Satellite.Map,{subdomains:v.Google.subdomains,id:"GoogleSatelliteMap"}),c={"天地图影像":Object(h.layerGroup)([n,i]),"天地图地图":Object(h.layerGroup)([t,a]).addTo(e)},u={"高德地图":o,"高德影像":s,"谷歌地图":r,"谷歌影像":l};h.control.layers(c,u).addTo(e)._container.style="position:relative;top:100px"},cssProblemFix:function(){delete h.Icon.Default.prototype._getIconUrl,h.Icon.Default.mergeOptions({iconRetinaUrl:a("qXhe"),iconUrl:a("TJ5S"),shadowUrl:a("wkq0")})},resetMap:function(){this.thisMap.setView(Object(h.latLng)({lng:122.262658,lat:37.183499}),9),i.$emit("resetMap"),i.$emit("removeMarker")},requestMarkersAndAddToMap:function(e){var t=this,a=Object(h.markerClusterGroup)({disableClusteringAtZoom:14});this.axios.post(t.remoteHost+"/api/v1/poi/whPoi/list",{type:e}).then(function(n){for(var o=n.data.data,s=0;s<o.length;s++){var r,l=o[s];switch(e){case 3:r=f(l.name,t.travelImgUrl);break;case 2:r=f(l.name,t.villageImgUrl);break;case 1:r=f(l.name,t.panoImgUrl)}var c=Object(h.marker)(Object(h.latLng)({lng:l.coordinateX,lat:l.coordinateY}),{icon:r});switch(a.addLayer(c),e){case 2:case 3:d()(c,{id:{value:l.id}});break;case 1:d()(c,{view_uuid:{value:l.ref2}})}c.on("click",function(a){switch(t.thisMap.setView(a.latlng,17),e){case 3:android.travelPOIDetail(a.sourceTarget.id);break;case 2:android.villagePOIDetail(a.sourceTarget.id);break;case 1:android.panoPage(t.panoHost+"/"+a.sourceTarget.view_uuid)}})}a.addTo(t.thisMap),i.$on("resetMap",function(){t.thisMap.removeLayer(a)})}).catch(function(e){console.log(e)})},initEvents:function(){var e=this;i.$on("androidCalledResetMap",function(){e.thisMap.setView(Object(h.latLng)({lng:122.262658,lat:37.183499}),9)}),i.$on("jsTravel",function(){e.resetMap(),e.requestMarkersAndAddToMap(3)}),i.$on("jsVillage",function(){e.resetMap(),e.requestMarkersAndAddToMap(2)}),i.$on("jsPano",function(){e.resetMap(),e.requestMarkersAndAddToMap(1)}),i.$on("jsPlanning",function(){i.$emit("resetMap"),e.thisMap.setView(Object(h.latLng)({lng:122.116172,lat:37.469389}),12);var t=h.tileLayer.wms("http://ml.iwhcity.com:6080/arcgis/services/WHGH/ZTGH/MapServer/WMSServer",{layers:"0",format:"image/png",transparent:!0,crs:h.CRS.EPSG4326,opacity:.5});t.addTo(e.thisMap),t.bringToFront(),e.thisMap.on("click",function(t){i.$emit("removeMarker"),e.axios.get("http://ml.iwhcity.com:6080/arcgis/rest/services/WHGH/ZTGH/MapServer/identify",{params:{geometry:t.latlng.lng+","+t.latlng.lat,geometryType:"esriGeometryPoint",sr:"EPSG:4326",layers:"all",tolerance:"0",geometryPrecision:"10",f:"json",mapExtent:"122.14,37.3",imageDisplay:"600,550,96"}}).then(function(a){var n=a.data.results[0],o=f(n.attributes.USES,e.planningImgUrl),s=Object(h.marker)(t.latlng,{icon:o}).addTo(e.thisMap);e.thisMap.setView(t.latlng,16),i.$on("removeMarker",function(){e.thisMap.removeLayer(s)})}).catch(function(e){console.log(e)})}),i.$on("resetMap",function(){e.thisMap.removeLayer(t)})}),i.$on("jsLocate",function(t,a){var n=Object(h.latLng)({lng:a,lat:t});if(e.locatedFlag)e.locateObject.marker.setLatLng(n),e.locateObject.circle.setLatLng(n),e.thisMap.setView(n,16);else{e.locateObject.marker=Object(h.marker)(n).addTo(e.thisMap),e.locateObject.circle=Object(h.circle)(n,16).addTo(e.thisMap),e.thisMap.setView(n,17),e.locatedFlag=!0}}),i.$on("jsSearch",function(t){e.resetMap();var a=Object(h.markerClusterGroup)({disableClusteringAtZoom:13});this.axios.post(e.remoteHost+"/api/v1/poi/whPoi/list",{name:t}).then(function(t){for(var n=t.data.data,o=0;o<n.length;o++){var s,r=n[o];s="3"===r.type?f(r.name,e.travelImgUrl):"1"===r.type?f(r.name,e.panoImgUrl):f(r.name,e.villageImgUrl);var l=Object(h.marker)(Object(h.latLng)({lng:r.coordinateX,lat:r.coordinateY}),{icon:s});a.addLayer(l),d()(l,{id:{value:r.id},type:{value:r.type}}),l.on("click",function(t){e.thisMap.setView(t.latlng,17),android.searchResultDetail(t.sourceTarget.id,t.sourceTarget.type)})}a.addTo(e.thisMap),i.$on("resetMap",function(){e.thisMap.removeLayer(a)})}).catch(function(e){console.log(e)})}),i.$on("jsPlotting",function(){e.resetMap();var t=android.getToken();this.axios.post(e.remoteHost+"/api/v1/marker/whMarkerInf/list",{userId:t}).then(function(t){for(var a=t.data.data,n=function(t){var n=a[t];o=n.coordinates,s=JSON.parse(o),new h.polygon(s).addTo(e.thisMap).on("click",function(){android.plotDetail(n.id)})},i=0;i<a.length;i++){var o,s;n(i)}}).catch(function(e){console.log(e)})}),i.$on("startPlot",function(){e.thisMap.pm.addControls({position:"topleft",drawCircle:!1,drawMarker:!1,drawPolyline:!1,drawRectangle:!1,editMode:!1,dragMode:!1,cutPolygon:!1}),e.thisMap.on("pm:create",function(t){""!==e.plotFeature&&e.plotFeature.layer.remove(),e.plotFeature=t})}),i.$on("endPlot",function(){android.addNewPlot(u()(e.plotFeature.layer._latlngs[0]))}),i.$on("getPlotMapH5",function(t){e.axios.post(e.remoteHost+"/api/v1/marker/whMarkerInf/get/"+t).then(function(t){var a=t.data.data.coordinates,n=JSON.parse(a),i=new h.polygon(n).addTo(e.thisMap);e.thisMap.fitBounds(i._bounds)})})}},mounted:function(){this.initMap(),this.initEvents(),this.cssProblemFix()}}),k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mapContainer",attrs:{id:"map"}},[t("div",{staticClass:"copy-right-content"})])}]};var M=a("VU/8")(C,k,!1,function(e){a("5k5n")},"data-v-d58fc896",null).exports;a("0U+a");var w=[{name:"路线1",wayArray:[m.a.Cartesian3.fromDegrees(122.12160586778568,37.31851194917908,250),m.a.Cartesian3.fromDegrees(122.12260586778567,37.318611949179086,250),m.a.Cartesian3.fromDegrees(122.12360586778567,37.31871194917908,250),m.a.Cartesian3.fromDegrees(122.12460586778568,37.318811949179086,250)]},{name:"路线2",wayArray:[m.a.Cartesian3.fromDegrees(122.12260586778567,37.317511949179085,250),m.a.Cartesian3.fromDegrees(122.12260586778567,37.318611949179086,250),m.a.Cartesian3.fromDegrees(122.12260586778567,37.31971194917909,250),m.a.Cartesian3.fromDegrees(122.12360586778567,37.31971194917909,250)]}],T={name:"MyCesium",data:function(){return{triIconUrl:"/static/tri-icon.png",promitives:"",viewer:"",layerControlClicked:!1,layerControlIsDisplay:"display:none",flyToolClicked:!1,flyPathContainerIsDisplay:"display:none",flyPathHeaderClicked:!1,flyPathSectionIsDisplay:"display:none",flyPathArray:w,measureToolClicked:!1,measureToolIsDisplay:"display:none",measureTool:"",featureTooltipEntity:"",ShapeEventHandler:""}},methods:{onLayerControlClick:function(){!1===this.layerControlClicked?(this.layerControlIsDisplay="display:block",this.layerControlClicked=!0):(this.layerControlIsDisplay="display:none",this.layerControlClicked=!1)},onLayerControlItemChanged:function(e){!0===e.show?(e.show=!1,this.viewer.scene.requestRender()):(e.show=!0,this.viewer.scene.requestRender())},onFlyToolClick:function(){!1===this.flyToolClicked?(this.flyPathContainerIsDisplay="display:block",this.flyToolClicked=!0):(this.flyPathContainerIsDisplay="display:none",this.flyToolClicked=!1)},onFlyPathHeaderClick:function(){!1===this.flyPathHeaderClicked?(this.flyPathSectionIsDisplay="display:block",this.flyPathHeaderClicked=!0):(this.flyPathSectionIsDisplay="display:none",this.flyPathHeaderClicked=!1)},onFlyPathItemClicked:function(e){y(e.wayArray,this.viewer)},onMeasureToolClick:function(){!1===this.measureToolClicked?(this.removeBindingInfoWindow(),this.measureToolIsDisplay="display:block",this.measureTool=new function(e){var t=[];this.getCollection=function(){return t},this.cleanAll=function(){for(var a=0;a<t.length;a++)e.entities.remove(t[a]);e.scene.requestRender(),t=[]},this.destroy=function(){e.screenSpaceEventHandler.removeInputAction(m.a.ScreenSpaceEventType.LEFT_CLICK),this.cleanAll()},this.measurePolyLine=function(){var i=this,r=[],l=null;e.screenSpaceEventHandler.setInputAction(function(c){var u=e.scene.pickPosition(c.position);if(0===r.length)r.push(u.clone()),a(u);else if(1===r.length){r.push(u),n(r),a(u);var p=m.a.Cartesian3.midpoint(r[0],r[1],new m.a.Cartesian3),d="距离："+s(r[0],r[1]);l=o(p,d),t.push(l)}else r.pop(),r.pop(),i.cleanAll(),r.push(u.clone()),a(u)},m.a.ScreenSpaceEventType.LEFT_CLICK)},this.measurePolygon=function(){var s=[],c=[],u=null;e.screenSpaceEventHandler.setInputAction(function(p){var d=e.scene.globe.pick(e.camera.getPickRay(p.position),e.scene);if(0===c.length)c.push(d.clone()),a(d);else if(1===c.length)c.push(d),a(d),n(c);else if(0===s.length)c.push(d),s.push((new Date).getTime()),a(d),n([c[c.length-1],c[c.length-2]]);else if(1===s.length)if((new Date).getTime()-s[0]<800){c.push(c[0]),i(c);var h="面积："+r(c),g=l(c);u=o(g,h),t.push(u),c=[],s=[]}else s.pop(),c.push(d),s.push((new Date).getTime()),a(d),n([c[c.length-1],c[c.length-2]])},m.a.ScreenSpaceEventType.LEFT_CLICK)},this.measureHeight=function(){var i=this,r=[],l=null,c=null,u=null;e.screenSpaceEventHandler.setInputAction(function(p){var d=e.scene.pickPosition(p.position);if(0===r.length)r.push(d.clone()),a(d);else if(1===r.length){var h=m.a.Cartographic.fromCartesian(d),g=m.a.Cartographic.fromCartesian(r[0]).height,f=m.a.Cartesian3.fromDegrees(m.a.Math.toDegrees(h.longitude),m.a.Math.toDegrees(h.latitude),g);r.push(f),r.push(d),a(d),a(f),n([r[0],r[1]]),n([r[1],r[2]]),n([r[0],r[2]]);var y=m.a.Cartesian3.midpoint(r[0],r[1],new m.a.Cartesian3),v="水平距离："+s(r[0],r[1]);l=o(y,v),t.push(l);var C=m.a.Cartesian3.midpoint(r[1],r[2],new m.a.Cartesian3),k="垂直距离："+s(r[1],r[2]);c=o(C,k),t.push(c);var M=m.a.Cartesian3.midpoint(r[0],r[2],new m.a.Cartesian3),w="直线距离："+s(r[0],r[2]);u=o(M,w),t.push(u)}else r.length>1&&(r.pop(),r.pop(),r.pop(),i.cleanAll(),r.push(d.clone()),a(d))},m.a.ScreenSpaceEventType.LEFT_CLICK)};var a=function(a){t.push(e.entities.add(new m.a.Entity({position:a,point:{color:m.a.Color.GREEN,pixelSize:10,scaleByDistance:new m.a.NearFarScalar(500,1,2e3,0),translucencyByDistance:new m.a.NearFarScalar(500,1,2e3,0)}}))),e.scene.requestRender()},n=function(a){var n=new m.a.CallbackProperty(function(){return a},!1);t.push(e.entities.add(new m.a.Entity({polyline:{positions:n,width:4,material:m.a.Color.RED}}))),e.scene.requestRender()},i=function(a){t.push(e.entities.add(new m.a.Entity({polygon:{hierarchy:a,material:m.a.Color.RED.withAlpha(.6),classificationType:m.a.ClassificationType.BOTH}}))),e.scene.requestRender()},o=function(t,a){return e.entities.add(new m.a.Entity({position:t,label:{text:a,font:"15px sans-serif",style:m.a.LabelStyle.FILL_AND_OUTLINE,fillColor:m.a.Color.YELLOW,showBackground:!0,backgroundColor:new m.a.Color(.165,.165,.165,.8),backgroundPadding:new m.a.Cartesian2(6,6),pixelOffset:new m.a.Cartesian2(0,-200)}}))},s=function(e,t){var a=m.a.Cartesian3.distance(e,t);return a=a>1e3?(a/1e3).toFixed(2)+" 公里":a.toFixed(2)+" 米"},r=function(e){Math.PI;var t=180/Math.PI;function a(e,a){e=m.a.Cartographic.fromCartesian(e),a=m.a.Cartographic.fromCartesian(a);var n=e.latitude,i=e.longitude,o=a.latitude,s=a.longitude,r=-Math.atan2(Math.sin(i-s)*Math.cos(o),Math.cos(n)*Math.sin(o)-Math.sin(n)*Math.cos(o)*Math.cos(i-s));return r<0&&(r+=2*Math.PI),r*=t}function n(e,t){var a=m.a.Cartographic.fromCartesian(e),n=m.a.Cartographic.fromCartesian(t),i=new m.a.EllipsoidGeodesic;i.setEndPoints(a,n);var o=i.surfaceDistance;return o=Math.sqrt(Math.pow(o,2)+Math.pow(n.height-a.height,2))}for(var i,o,s,r,l=0,c=0;c<e.length-2;c++){var u=(c+1)%e.length,p=(c+2)%e.length,d=(i=e[c],o=e[u],s=e[p],r=void 0,(r=a(o,i)-a(o,s))<0&&(r+=360),r);l+=n(e[u],e[0])*n(e[p],e[0])*Math.sin(d)/2}return l=l<1e6?Math.abs(l).toFixed(4)+" 平方米":Math.abs((l/1e6).toFixed(4))+" 平方公里"},l=function(e){for(var t=e[0],a=1;a<e.length;a++)t=m.a.Cartesian3.midpoint(t,e[a],new m.a.Cartesian3);return t}}(this.viewer),this.measureToolClicked=!0):(this.bindingInfoWindow(),this.measureToolIsDisplay="display:none",this.measureTool.destroy(),this.measureToolClicked=!1)},onMeasureToggleClick:function(e){switch(e){case 0:this.measureTool.destroy(),this.measureTool.measurePolyLine();break;case 1:this.measureTool.destroy(),this.measureTool.measurePolygon();break;case 2:this.measureTool.destroy(),this.measureTool.measureHeight();break;case 3:this.measureTool.destroy()}},onResetToolClick:function(){this.viewer.zoomTo(this.promitives[0])},bindingInfoWindow:function(){var e=this,t=new m.a.ScreenSpaceEventHandler(e.viewer.scene.canvas);t.setInputAction(function(t){var a=e.viewer.scene.pick(t.position);if(void 0!=a){var n=e.viewer.scene.globe.pick(e.viewer.camera.getPickRay(t.position),e.viewer.scene);if(""===e.featureTooltipEntity){var i=new m.a.Entity({position:n,label:{text:a.primitive.name,font:"30px sans-serif",style:m.a.LabelStyle.FILL_AND_OUTLINE,fillColor:m.a.Color.YELLOW,showBackground:!0,backgroundColor:new m.a.Color(.165,.165,.165,.8),backgroundPadding:new m.a.Cartesian2(6,6),pixelOffset:new m.a.Cartesian2(0,-200)}});e.viewer.entities.add(i),e.featureTooltipEntity=i}else e.featureTooltipEntity.entityCollection._entities._array[0]._position._value=n,e.featureTooltipEntity.entityCollection._entities._array[0]._label._text._value=a.primitive.name;e.viewer.scene.requestRender()}},m.a.ScreenSpaceEventType.LEFT_CLICK),e.ShapeEventHandler=t},removeBindingInfoWindow:function(){""!==this.ShapeEventHandler&&this.ShapeEventHandler.destroy()}},mounted:function(){m.a.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI4N2MwOWQyMy1jZmYxLTQ0MDgtODhlNy01NzJjYzg2NGJkMGYiLCJpZCI6OTk3OSwic2NvcGVzIjpbImFzciIsImdjIl0sImlhdCI6MTU1NTQwNjkxNX0.9X68vOpRUVBdbiirGXtGvKGMV1nYZFCCnKwzTjFRC1I";var e=new m.a.Viewer("cesiumContainer",{animation:!1,shouldAnimate:!1,homeButton:!1,fullscreenButton:!1,baseLayerPicker:!1,geocoder:!1,timeline:!1,sceneModePicker:!1,navigationHelpButton:!1,infoBox:!1,requestRenderMode:!0,scene3DOnly:!1,sceneMode:3,fullscreenElement:document.body});e._cesiumWidget._creditContainer.style.display="none",this.axios.get("http://115.29.65.225:8082/cesiumTestData.json").then(function(t){t.data.forEach(function(t){var a=e.scene.primitives.add(new m.a.Cesium3DTileset({url:t.url,dynamicScreenSpaceErrorHeightFalloff:1}));d()(a,{name:{value:t.tileName}}),e.zoomTo(a)})}),e.terrainProvider=m.a.createWorldTerrain({requestVertexNormals:!0}),this.viewer=e,this.promitives=e.scene.primitives._primitives,this.bindingInfoWindow()}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cesiumContainer",attrs:{id:"cesiumContainer"}},[a("div",{staticClass:"layer-control-container control-container"},[a("div",{staticClass:"layer-control-toggle toggle",on:{click:e.onLayerControlClick}}),e._v(" "),a("section",{staticClass:"layer-control-list",style:e.layerControlIsDisplay},e._l(e.promitives,function(t,n){return a("div",{key:n,staticClass:"layer-control-list-item"},[a("input",{staticClass:"layer-control-list-ckeckBox",attrs:{type:"checkBox"},domProps:{checked:t.show},on:{change:function(a){return e.onLayerControlItemChanged(t)}}}),e._v(" "),a("div",{staticClass:"layer-control-list-name"},[e._v(e._s(t.name))])])}),0)]),e._v(" "),a("div",{staticClass:"fly-tool-container control-container"},[a("div",{staticClass:"fly-tool-toggle toggle",on:{click:e.onFlyToolClick}})]),e._v(" "),a("div",{staticClass:"fly-section-container",style:e.flyPathContainerIsDisplay},[a("div",{staticClass:"fly-path-header",on:{click:e.onFlyPathHeaderClick}},[a("div",{staticClass:"fly-path-header-text"},[e._v("飞行路径")]),e._v(" "),a("img",{staticClass:"fly-path-header-tri-icon",attrs:{src:e.triIconUrl}})]),e._v(" "),a("section",{staticClass:"fly-path-list",style:e.flyPathSectionIsDisplay},[a("div",{staticClass:"fly-path-list-container"},e._l(e.flyPathArray,function(t,n){return a("div",{key:n,staticClass:"fly-path-list-item"},[a("div",{staticClass:"fly-path-list-item-name",on:{click:function(a){return e.onFlyPathItemClicked(t)}}},[e._v(e._s(t.name))])])}),0)])]),e._v(" "),a("div",{staticClass:"measure-tool-container control-container"},[a("div",{staticClass:"measure-tool-toggle toggle",on:{click:e.onMeasureToolClick}})]),e._v(" "),a("div",{staticClass:"line-measure-toggle control-container toggle",style:e.measureToolIsDisplay,on:{click:function(t){return e.onMeasureToggleClick(0)}}}),e._v(" "),a("div",{staticClass:"polygon-measure-toggle control-container toggle",style:e.measureToolIsDisplay,on:{click:function(t){return e.onMeasureToggleClick(1)}}}),e._v(" "),a("div",{staticClass:"elevation-measure-toggle control-container toggle",style:e.measureToolIsDisplay,on:{click:function(t){return e.onMeasureToggleClick(2)}}}),e._v(" "),a("div",{staticClass:"remove-measure-toggle control-container toggle",style:e.measureToolIsDisplay,on:{click:function(t){return e.onMeasureToggleClick(3)}}}),e._v(" "),a("div",{staticClass:"reset-tool-container control-container"},[a("div",{staticClass:"reset-tool-toggle toggle",on:{click:e.onResetToolClick}})])])},staticRenderFns:[]};var A=a("VU/8")(T,b,!1,function(e){a("rfsN")},"data-v-0e02af29",null).exports;n.a.use(l.a);var S=new l.a({routes:[{path:"/",name:"MyMap",component:M},{path:"/MyCesium",name:"MyCesium",component:A}]}),I=a("mtWM"),x=a.n(I),E=(a("e195"),a("1BT9")),j=a.n(E);n.a.use(j.a),n.a.prototype.axios=x.a,n.a.prototype.WeihaiHOST="/originapi",n.a.config.productionTip=!1,new n.a({el:"#app",router:S,components:{App:r},template:"<App/>"})},R8Y0:function(e,t){},TJ5S:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},VRXO:function(e,t){},WMyP:function(e,t){},cF8l:function(e,t){function a(e){throw new Error("Cannot find module '"+e+"'.")}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="cF8l"},e195:function(e,t){},pTlp:function(e,t){},qXhe:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcY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"},rfsN:function(e,t){},wkq0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"}},["NHnr"]);
//# sourceMappingURL=app.fa32b7c62ca935766e01.js.map